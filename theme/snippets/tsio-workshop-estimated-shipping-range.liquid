{%- assign hasShipDate1 = false -%}
{%- assign hasCutOffDate1 = false -%}
{%- assign hasShipDate2 = false -%}
{%- assign hasCutOffDate2 = false -%}
{%- assign hasShipDate3 = false -%}
{%- if preSaleProduct.metafields.copycat.est_ship_date -%}
  {%- assign hasShipDate1 = true -%}
  {%- assign unixDate1 = preSaleProduct.metafields.copycat.est_ship_date | strip_html | replace: '/', '-' | date: '%s' -%}
  {%- assign daysToAdd = 20 | times: 24 | times: 60 | times: 60 -%}
  {%- capture estShipRange1 -%}
    {{ unixDate1 | date: '%m/%-d' }}&thinsp;&ndash;&thinsp;{{ unixDate1 | plus: daysToAdd | date: '%m/%-d' }}
  {%- endcapture -%}
  {%- capture estShipRangeTotal -%}
    {{ estShipRange1 }}
  {%- endcapture -%}
  {%- if preSaleProduct.metafields.copycat.est_ship_date_2 -%}
    {%- assign hasShipDate2 = true -%}
    {%- assign unixDate2 = preSaleProduct.metafields.copycat.est_ship_date_2 | strip_html | replace: '/', '-' | date: '%s' -%}
    {%- capture estShipRange2 -%}
      {{ unixDate2 | date: '%m/%-d' }}&thinsp;&ndash;&thinsp;{{ unixDate2 | plus: daysToAdd | date: '%m/%-d' }}
    {%- endcapture -%}
    {%- capture estShipRangeTotal -%}
      {{ unixDate1 | date: '%m/%-d' }}&thinsp;&ndash;&thinsp;{{ unixDate2 | plus: daysToAdd | date: '%m/%-d' }}
    {%- endcapture -%}
    {%- if preSaleProduct.metafields.copycat.est_ship_date_1_cut_off -%}
      {%- assign hasCutOffDate1 = true -%}
      {%- assign unixCutOffDate1 = preSaleProduct.metafields.copycat.est_ship_date_1_cut_off | strip_html | replace: '/', '-' | date: '%s' -%}
      {%- capture cutOffDate1 -%}
        {{ unixCutOffDate1 | date: '%m/%-d' }}
      {%- endcapture -%}
    {%- endif -%}
  {%- endif -%}
  {%- if preSaleProduct.metafields.copycat.est_ship_date_3 -%}
    {%- assign hasShipDate3 = true -%}
    {%- assign unixDate3 = preSaleProduct.metafields.copycat.est_ship_date_3 | strip_html | replace: '/', '-' | date: '%s' -%}
    {%- capture estShipRange3 -%}
      {{ unixDate3 | date: '%m/%-d' }}&thinsp;&ndash;&thinsp;{{ unixDate3 | plus: daysToAdd | date: '%m/%-d' }}
    {%- endcapture -%}
    {%- capture estShipRangeTotal -%}
      {{ unixDate1 | date: '%m/%-d' }}&thinsp;&ndash;&thinsp;{{ unixDate3 | plus: daysToAdd | date: '%m/%-d' }}
    {%- endcapture -%}
    {%- if preSaleProduct.metafields.copycat.est_ship_date_2_cut_off -%}
      {%- assign hasCutOffDate2 = true -%}
      {%- assign unixCutOffDate2 = preSaleProduct.metafields.copycat.est_ship_date_2_cut_off | strip_html | replace: '/', '-' | date: '%s' -%}
      {%- capture cutOffDate2 -%}
        {{ unixCutOffDate2 | date: '%m/%-d' }}
      {%- endcapture -%}
    {%- endif -%}
  {%- endif -%}
{%- endif -%}
{%- comment -%}
  for debug
  <!-- estShipRange1: {{ estShipRange1 }} / estShipRange2: {{ estShipRange2 }} // cutOffDate: {{ cutOffDate }} -->
{%- endcomment -%}
<!-- estShipRange1: {{ estShipRange1 }} / estShipRange2: {{ estShipRange2 }} // cutOffDate: {{ cutOffDate }} -->
